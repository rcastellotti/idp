\documentclass[NET,english,beameralt]{tumbeamer}
\usepackage[options]{minted}
% Configure author, title, etc. here:
\input{include/slides}

\begin{document}

\begin{frame}{Agenda}
    \begin{itemize}
        \item trying to understand routing decisions
        \item visualize visible satellites
        \item exploring the GRPC api
    \end{itemize}
\end{frame}

\begin{frame}{Understanding routing decisions}
    \begin{itemize}
        \item get ip address blocks from major cloud providers (aws,azure,oracle), as we know their position \footnote[]{the fact we know the position doesn't really mean a traceroute to a certain address is really a traceroute to that geographic area}
    \end{itemize}
\end{frame}

\begin{frame}{Visualize visible satellites}
    \begin{itemize}
        \item from \href{celestrak.org}{celestrak.org} we can download a list of Starlink's satellites TLEs
        \item A two-line element set (TLE) is a data format encoding a list of orbital elements of an Earth-orbiting object for a given point in time, the epoch. Using a suitable prediction formula, the state (position and velocity) at any point in the past or future can be estimated to some accuracy. (from wikipedia.org)
    \end{itemize}
\end{frame}

\begin{frame}[fragile]{\texttt{common.calculate\_visible\_satellites}}
    \begin{minted}[fontsize=\small]{python3}
def calculate_visible_satellites(...):
    # ...
    satellites = load.tle_file(stations_url)
    observer = Topos(observer_latitude, observer_longitude, observer_elevation)
    t = load.timescale().now()

    # Calculate satellite positions
    positions = [(sat, (sat - observer).at(t)) for sat in satellites]
    
    # Filter visible satellites
    visible_satellites = []
    for sat, position in positions:
        alt, az, distance = position.altaz()
        # Satellite is above the horizon
        if alt.degrees > 0 and distance.km < distance_km:
            visible_satellites.append((sat, alt, az))

    return visible_satellites
    \end{minted}
    \end{frame}

\section{Bibliography}
\begin{frame}[allowframebreaks]
    \bibliographystyle{abbrv}
    \setbeamertemplate{bibliography item}[text]
    \footnotesize
    \bibliography{lit}
\end{frame}



\end{document}

